---
title: "CodeBook"
author: "Haralampi Bageski"
date: "Friday, October 24, 2014"
output: html_document
---

#Loading and preprocessing the data...
```{r read_tables,echo=TRUE}
library(utils)
unzip("getdata-projectfiles-UCI HAR Dataset.zip")
X_train<-read.table("getdata-projectfiles-UCI HAR Dataset/UCI HAR Dataset/train/X_train.txt",header=FALSE)
y_train<-read.table("getdata-projectfiles-UCI HAR Dataset/UCI HAR Dataset/train/y_train.txt",header=FALSE)
subject_train<-read.table("getdata-projectfiles-UCI HAR Dataset/UCI HAR Dataset/train/subject_train.txt",header=FALSE)


X_test<-read.table("getdata-projectfiles-UCI HAR Dataset/UCI HAR Dataset/test/X_test.txt",header=FALSE)
y_test<-read.table("getdata-projectfiles-UCI HAR Dataset/UCI HAR Dataset/test/y_test.txt",header=FALSE)
subject_test<-read.table("getdata-projectfiles-UCI HAR Dataset/UCI HAR Dataset/test/subject_test.txt",header=FALSE)

activity <- read.table("getdata-projectfiles-UCI HAR Dataset/UCI HAR Dataset/activity_labels.txt",header=FALSE)
features <- read.table("getdata-projectfiles-UCI HAR Dataset/UCI HAR Dataset/features.txt",header=FALSE)
```
  
#   1. Merges the training and the test sets to create one data set.
```{r melting,echo=TRUE}
install.packages("reshape")
library(reshape)
X <- rbind(X_train,X_test)
colnames(X) <- features[,2]
Y <- rbind(y_train,y_test)
colnames(Y) <- c("Activities")

subject <- rbind(subject_train,subject_test)
colnames(subject) <- c("Subject")
Merged <- cbind(subject,Y,X)
```
    
#    2. Extracts only the measurements on the mean and standard deviation for each measurement. 
```{r mean_sd,echo=TRUE}
head(features)
features[7,]
mean_sd <- which(grepl("mean",features[,2]) | grepl("std",features[,2]))
Mean_sd <- cbind(Merged[,1:2],Merged[,2+mean_sd]) #The first two columns are not in "features"

```

#  3. Uses descriptive activity names to name the activities in the data set
```{r activity_labels,echo=TRUE}
#We need to substitute the column of Activities from numbers to Words...
Mean_sd$Activities <-activity[Mean_sd$Activities,2]
```

#  4. Appropriately labels the data set with descriptive variable names. 
I already did that in step 1 by using colnames(...) <- ...

#  5. From the data set in step 4, creates a second, independent tidy data set with the average of each variable for each activity and each subject.
```{r grouping,echo=TRUE}
Grouped <- aggregate(Mean_sd[,3:81], by=list(Mean_sd$Activities,Mean_sd$Subject), FUN=mean)
colnames(Grouped)[1:2] <- c("Activity","ID")
Grouped
```

